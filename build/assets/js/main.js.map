{"version":3,"sources":["scripts/config.js","main.js","scripts/scripts.js"],"names":["$","window","on","fadeOut","addClass","contactsModal","main","document","querySelector","getHeader","onBottom","appears","length","ledderAnim","headerAnim","bottomEvent","worksModal","slick","dots","infinite","speed","fade","arrows","cssEase","currentTarget","each","index","attr","sliderMain","nextArrow","prevArrow","event","currentSlide","nextSlide","temp","$slides","html","removeClass","Scrolling","vh","height","scrollState","scrollTop","isMobile","item","position","trigger","init","prototype","bindScroll","clearDelay","obj","Math","round","e","preventDefault","hasClass","one","hover","toggleClass","address","location","href","split","substring","backAddress","hash","width","object","todo","String","substr","lastIndexOf","remove","find","animate","history","pushState","changePage","parents","loadPage","url","fetch","method","then","response","text","responseText","wrapper","createElement","innerHTML","oldContent","newContent","appendChild","style","opacity","fadeIn","onfinish","parentNode","removeChild"],"mappings":";;AAAA;ACAAA,EAAAC,MAAA,EAAAC,EAAA,CAAA,MAAA,EAAA,YAAA;ACAAF,GAAA,YAAA,EAAAG,OAAA;AACAH,GAAA,WAAA,EAAAI,QAAA,CAAA,QAAA;AACAC;AAGA,CDLA;;ACOA;AACA,IAAAC,OAAAC,SAAAC,aAAA,CAAA,MAAA,CAAA;AACA,IAAAC,YAAAT,EAAA,SAAA,CAAA;AACA,IAAAU,WAAA,KAAA;AACA,IAAAC,UAAA,EAAA;;AAGAX,EAAA,YAAA;AACA,KAAAA,EAAA,QAAA,EAAAY,MAAA,GAAA,CAAA,EAAA;AACAC,aAAAb,EAAA,wBAAA,CAAA,EAAA,IAAA;AACAA,IAAA,iBAAA,EAAAI,QAAA,CAAA,QAAA;AACA;AACA,KAAAJ,EAAA,YAAA,EAAAY,MAAA,GAAA,CAAA,EAAA;AACAZ,IAAA,MAAA,EAAAI,QAAA,CAAA,aAAA;AACA;;AAEA;AACAU;AACAC;AACAC;;AAGA;AACAhB,GAAA,SAAA,EAAAiB,KAAA,CAAA;AACAC,QAAA,IADA;AAEAC,YAAA,IAFA;AAGAC,SAAA,GAHA;AAIAC,QAAA,KAJA;AAKAC,UAAA,KALA;AAMAC,WAAA;AANA,EAAA;AAQA;AACAvB,GAAA,cAAA,EAAAE,EAAA,CAAA,MAAA,EAAA,UAAAe,KAAA,EAAA;AACAjB,IAAA,YAAA,EAAAI,QAAA,CAAA,aAAA;AACAJ,IAAAiB,MAAAO,aAAA,EAAApB,QAAA,CAAA,WAAA;AACAJ,IAAA,gBAAA,EAAAyB,IAAA,CAAA,UAAAC,KAAA,EAAA;AACA1B,KAAA,IAAA,EAAAI,QAAA,CAAA,iBAAA;AACAJ,KAAA,IAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,uBAAA,MAAAD,QAAA,IAAA,IAAA,IAAA;AACA,GAHA;AAIA,EAPA;;AASA,KAAAE,aAAA5B,EAAA,cAAA,EAAAiB,KAAA,CAAA;AACAC,QAAA,IADA;AAEAC,YAAA,IAFA;AAGAC,SAAA,GAHA;AAIAC,QAAA,IAJA;AAKAC,UAAA,IALA;AAMAO,aAAA,6QANA;AAOAC,aAAA,+QAPA;AAQAP,WAAA;AARA,EAAA,CAAA;;AAaAK,YAAA1B,EAAA,CAAA,cAAA,EAAA,UAAA6B,KAAA,EAAAd,KAAA,EAAAe,YAAA,EAAAC,SAAA,EAAA;AACA,MAAAC,OAAAlC,EAAAiB,MAAAkB,OAAA,CAAAF,SAAA,CAAA,EAAAG,IAAA,EAAA;AACApC,IAAA,QAAA,EAAAqC,WAAA,CAAA,OAAA;AACArC,IAAAiB,MAAAkB,OAAA,CAAAF,SAAA,CAAA,EAAAG,IAAA,CAAA,EAAA;AACApC,IAAAiB,MAAAkB,OAAA,CAAAF,SAAA,CAAA,EAAAG,IAAA,CAAAF,IAAA;AACA,EALA;;AAOA;AACAlC,GAAAO,QAAA,EAAAL,EAAA,CAAA,QAAA,EAAA,YAAA;AACAF,IAAA,SAAA,EAAAiB,KAAA,CAAA;AACAC,SAAA,IADA;AAEAC,aAAA,IAFA;AAGAC,UAAA,GAHA;AAIAC,SAAA,KAJA;AAKAC,WAAA,KALA;AAMAC,YAAA;AANA,GAAA;;AASAR;AACAD;AACAT;AACAW;AACAhB,IAAA,WAAA,EAAAI,QAAA,CAAA,QAAA;;AAEAJ,IAAA,YAAA,EAAAyB,IAAA,CAAA,UAAAC,KAAA,EAAA;AACAf,WAAAe,KAAA,IAAA,IAAAY,SAAA,CAAAtC,EAAA,IAAA,CAAA,CAAA;AACA,GAFA;AAGA,EAnBA;;AAqBA;AACAA,GAAAC,MAAA,EAAAC,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,MAAAqC,KAAAvC,EAAAC,MAAA,EAAAuC,MAAA,EAAA;AACA,MAAAC,cAAA,KAAA;;AAEA,MAAAzC,EAAAC,MAAA,EAAAyC,SAAA,KAAAH,KAAAvC,EAAA,SAAA,EAAAwC,MAAA,EAAA,IAAA,CAAA9B,QAAA,EAAA;AACAV,KAAA,SAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,gCAAA;AACA,GAFA,MAEA;AACA3B,KAAA,SAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,2BAAA;AACA;;AAEA,MAAA3B,EAAAC,MAAA,EAAAyC,SAAA,KAAA1C,EAAA,SAAA,EAAAwC,MAAA,EAAA,EAAA;AACAxC,KAAA,YAAA,EAAAI,QAAA,CAAA,cAAA;AACAJ,KAAA,YAAA,EAAAqC,WAAA,CAAA,QAAA;AACA,GAHA,MAGA;AACArC,KAAA,YAAA,EAAAqC,WAAA,CAAA,cAAA;AACArC,KAAA,YAAA,EAAAI,QAAA,CAAA,QAAA;AACA;;AAEA,MAAAJ,EAAAC,MAAA,EAAAyC,SAAA,KAAA,CAAA,IAAAD,eAAA,KAAA,IAAA,CAAAE,UAAA,EAAA;AACA3C,KAAA,YAAA,EAAAI,QAAA,CAAA,MAAA;AACAqC,iBAAA,IAAA;AACA,GAHA,MAGA;AACAzC,KAAA,YAAA,EAAAqC,WAAA,CAAA,MAAA;AACAI,iBAAA,KAAA;AACA;AACA,EAzBA;AA0BA,CAvGA;;AAyGA,SAAAH,SAAA,CAAAM,IAAA,EAAA;AACA,MAAAA,IAAA,GAAAA,IAAA;AACA,MAAAC,QAAA;AACA,KAAAF,QAAA,EAAA;AACA,OAAAG,OAAA,GAAA,EAAA;AACA,EAFA,MAEA;AACA,OAAAA,OAAA,GAAA,CAAA;AACA;AACA,MAAAC,IAAA;AACA;AACAT,UAAAU,SAAA,GAAA;AACAD,OAAA,gBAAA;AACA,OAAAE,UAAA;AACA,EAHA;AAIAC,aAAA,sBAAA;AACA,OAAAN,IAAA,CAAAjB,IAAA,CAAA,OAAA,EAAA,sBAAA;AACA,EANA;AAOAsB,aAAA,sBAAA;AACA,MAAAE,MAAA,IAAA;AACAnD,IAAAC,MAAA,EAAAC,EAAA,CAAA,QAAA,EAAA,YAAA;AACAiD,OAAAD,UAAA;AACAC,OAAAN,QAAA,GAAAO,KAAAC,KAAA,CAAArD,EAAAC,MAAA,EAAAyC,SAAA,EAAA,CAAA;AACA,OAAAS,IAAAN,QAAA,GAAAM,IAAAL,OAAA,EAAA;AACA9C,MAAAmD,IAAAP,IAAA,EAAAxC,QAAA,CAAA,UAAA;AACA;AACA,OAAA+C,IAAAN,QAAA,IAAAM,IAAAL,OAAA,EAAA;AACA9C,MAAAmD,IAAAP,IAAA,EAAAP,WAAA,CAAA,UAAA;AACA;AACA,GATA;AAUA;AAnBA,CAAA;;AAsBArC,EAAA,YAAA,EAAAyB,IAAA,CAAA,UAAAC,KAAA,EAAA;AACAf,SAAAe,KAAA,IAAA,IAAAY,SAAA,CAAAtC,EAAA,IAAA,CAAA,CAAA;AACA,CAFA;;AAIA,SAAAK,aAAA,GAAA;AACAL,GAAA,mBAAA,EAAAE,EAAA,CAAA,OAAA,EAAA,UAAAoD,CAAA,EAAA;AACAA,IAAAC,cAAA;AACA,MAAA,CAAAvD,EAAA,MAAA,EAAAwD,QAAA,CAAA,aAAA,CAAA,EAAA;AACAxD,KAAA,MAAA,EAAAI,QAAA,CAAA,aAAA;AAAA;AACAJ,IAAA,cAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,4BAAA;AACA3B,IAAA,cAAA,EAAAyD,GAAA,CAAA,eAAA,EAAA,YAAA;AACAzD,KAAA,iBAAA,EAAAI,QAAA,CAAA,YAAA;AACAS,cAAAb,EAAA,mBAAA,CAAA,EAAA,IAAA;AACAA,KAAA,oBAAA,EAAAI,QAAA,CAAA,QAAA;AACA,GAJA;AAKA,EAVA;AAWAJ,GAAA,oBAAA,EAAAE,EAAA,CAAA,OAAA,EAAA,UAAAoD,CAAA,EAAA;AACAA,IAAAC,cAAA;AACAvD,IAAA,iBAAA,EAAAqC,WAAA,CAAA,YAAA;AACAxB,aAAAb,EAAA,mBAAA,CAAA,EAAA,KAAA;AACAA,IAAA,iBAAA,EAAAyD,GAAA,CAAA,eAAA,EAAA,YAAA;;AAEAzD,KAAA,MAAA,EAAAqC,WAAA,CAAA,aAAA;AACArC,KAAA,cAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,+BAAA;AACA3B,KAAA,oBAAA,EAAAqC,WAAA,CAAA,QAAA;AACA,GALA;AAMA,EAVA;AAcA;;AAEA,SAAArB,UAAA,GAAA;AACA,KAAA,CAAA2B,UAAA,EAAA;AACA3C,IAAA,cAAA,EAAA0D,KAAA,CAAA,YAAA;AACA1D,KAAA,iBAAA,EAAA2D,WAAA,CAAA,UAAA;AACA,GAFA;AAGA;AACA3D,GAAA,gBAAA,EAAAE,EAAA,CAAA,OAAA,EAAA,UAAAoD,CAAA,EAAA;AACAA,IAAAC,cAAA;AACA,MAAA,CAAAZ,UAAA,EAAA;AACA3C,KAAA,WAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,4BAAA;AACA,GAFA,MAEA;AACA3B,KAAA,WAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,UAAA;AACA;;AAIA3B,IAAA,WAAA,EAAAyD,GAAA,CAAA,eAAA,EAAA,YAAA;AACA,OAAAG,UAAAC,SAAAC,IAAA,CAAAC,KAAA,CAAA,GAAA,EAAA,CAAA,EAAAC,SAAA,CAAA,CAAA,CAAA;AACA,OAAAC,cAAAjE,EAAA,gBAAA,EAAA2B,IAAA,CAAA,MAAA,IAAA,GAAA,GAAAiC,OAAA;;AAEAC,YAAAC,IAAA,GAAAG,WAAA;AACA,GALA;AAMA,EAhBA;AAiBAjE,GAAA,iBAAA,EAAAE,EAAA,CAAA,OAAA,EAAA,UAAAoD,CAAA,EAAA;AACAA,IAAAC,cAAA;AACA,MAAAM,SAAAK,IAAA,CAAAtD,MAAA,IAAA,CAAA,EAAA;AACAiD,YAAAC,IAAA,GAAA,aAAA;AACA,GAFA,MAEA;AACAD,YAAAC,IAAA,GAAAD,SAAAK,IAAA,CAAAF,SAAA,CAAA,CAAA,IAAA,OAAA;AACA;AAEA,EARA;AAUA;;AAEA,SAAArB,QAAA,GAAA;AACA,KAAA3C,EAAAC,MAAA,EAAAkE,KAAA,KAAA,GAAA,EAAA;AACA,SAAA,IAAA;AACA,EAFA,MAEA;AACA,SAAA,KAAA;AACA;AACA;;AAEA,SAAAtD,UAAA,CAAAuD,MAAA,EAAAC,IAAA,EAAA;AACA,KAAAA,QAAA,IAAA,EAAA;AACAD,SAAA3C,IAAA,CAAA,UAAAC,KAAA,EAAA;AACA1B,KAAA,IAAA,EAAAI,QAAA,CAAA,qBAAA;AACAJ,KAAA,IAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,uBAAA,MAAAD,QAAA,GAAA,IAAA,IAAA;AACA,GAHA;AAIA;AACA,KAAA2C,QAAA,KAAA,EAAA;AACAD,SAAA3C,IAAA,CAAA,UAAAC,KAAA,EAAA;AACA1B,KAAA,IAAA,EAAAqC,WAAA,CAAA,qBAAA;AACArC,KAAA,IAAA,EAAA2B,IAAA,CAAA,GAAA;AACA,GAHA;AAIA;AACA;;AAGA,SAAAZ,WAAA,GAAA;AACA,KAAA,CAAA4B,UAAA,EAAA;AACA3C,IAAA,YAAA,EAAAE,EAAA,CAAA,OAAA,EAAA,UAAAoD,CAAA,EAAA;AACA,OAAAM,UAAAU,OAAArE,OAAA4D,QAAA,EAAAU,MAAA,CACA,CADA,EAEAD,OAAArE,OAAA4D,QAAA,EAAAW,WAAA,CAAA,GAAA,CAFA,CAAA;AAIAlB,KAAAC,cAAA;AACAvD,KAAA,IAAA,EAAAI,QAAA,CAAA,MAAA;AACAJ,KAAA,4BAAA,EAAAI,QAAA,CAAA,kBAAA;AACAJ,KAAA,2BAAA,EAAAI,QAAA,CAAA,kBAAA;AACAJ,KAAA,yBAAA,EAAAqC,WAAA,CAAA,MAAA;AACArC,KAAA,uBAAA,EAAAyE,MAAA;AACA/D,cAAA,IAAA;AACAV,KAAA,oBAAA,EAAAqC,WAAA,CAAA,YAAA;AACArC,KAAA,sBAAA,EAAA0E,IAAA,CAAA,GAAA,EAAArC,WAAA,CAAA,YAAA;AACArC,KAAA,qBAAA,EAAA0E,IAAA,CAAA,oBAAA,EAAAtE,QAAA,CAAA,eAAA;AACAJ,KAAA,sBAAA,EAAA0E,IAAA,CAAA,GAAA,EAAAtE,QAAA,CAAA,cAAA;AACAJ,KAAA,qBAAA,EAAA0E,IAAA,CAAA,oBAAA,EAAAtE,QAAA,CAAA,eAAA;AACAJ,KAAA,MAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,gBAAA;AACA3B,KAAA,IAAA,EAAAyD,GAAA,CAAA,eAAA,EAAA,YAAA;AACAzD,MAAA,WAAA,EAAA2E,OAAA,CAAA,EAAAjC,WAAA,CAAA,EAAA,EAAA,CAAA;AACAkC,YAAAC,SAAA,CAAA,IAAA,EAAA,IAAA,EAAAjB,UAAA5D,EAAA,YAAA,EAAA2B,IAAA,CAAA,MAAA,CAAA;AACAmD;AACApE,eAAA,KAAA;AACA,IALA;AAMA,GAxBA;AAyBA;AACA;;AAEA,SAAAI,UAAA,GAAA;AACAd,GAAA,oBAAA,EAAAyD,GAAA,CACA,8EADA,EAEA,YAAA;AACAzD,IAAA,IAAA,EAAAqC,WAAA,CAAA,6BAAA;AACArC,IAAA,IAAA,EAAAI,QAAA,CAAA,YAAA;AACAJ,IAAA,YAAA,EAAAI,QAAA,CAAA,cAAA;AACA,EANA;;AASAJ,GAAA,oBAAA,EAAA0E,IAAA,CAAA,GAAA,EAAAjB,GAAA,CACA,8EADA,EAEA,YAAA;AACAzD,IAAA,IAAA,EAAAqC,WAAA,CAAA,cAAA;AACArC,IAAA,IAAA,EAAA+E,OAAA,CAAA,oBAAA,EAAA3E,QAAA,CAAA,YAAA;AACA,EALA;AAOA;;AAEA,SAAA4E,QAAA,CAAAC,GAAA,EAAA;AACA,QAAAC,MAAAD,GAAA,EAAA;AACAE,UAAA;AADA,EAAA,EAEAC,IAFA,CAEA,UAAAC,QAAA,EAAA;AACA,SAAAA,SAAAC,IAAA,EAAA;AACA,EAJA,CAAA;AAKA;;AAIA,SAAAR,UAAA,GAAA;AACA;AACA,KAAAG,MAAAhF,OAAA4D,QAAA,CAAAC,IAAA;;AAEAkB,UAAAC,GAAA,EAAAG,IAAA,CAAA,UAAAG,YAAA,EAAA;AACA,MAAAC,UAAAjF,SAAAkF,aAAA,CAAA,KAAA,CAAA;AACAD,UAAAE,SAAA,GAAAH,YAAA;;AAEA,MAAAI,aAAApF,SAAAC,aAAA,CAAA,OAAA,CAAA;AACA,MAAAoF,aAAAJ,QAAAhF,aAAA,CAAA,OAAA,CAAA;;AAEAF,OAAAuF,WAAA,CAAAD,UAAA;AACA5F,IAAAO,QAAA,EAAAuC,OAAA,CAAA,QAAA;AACA6B,UAAAgB,UAAA,EAAAC,UAAA;AAEA,EAXA;AAYA;;AAEA,SAAAjB,OAAA,CAAAgB,UAAA,EAAAC,UAAA,EAAA;AACAD,YAAAG,KAAA,CAAAjD,QAAA,GAAA,UAAA;AACA,KAAA1C,UAAAwF,WAAAhB,OAAA,CACA;AACAoB,WAAA,CAAA,CAAA,EAAA,CAAA;AADA,EADA,EAIA,IAJA,CAAA;;AAOA,KAAAC,SAAAJ,WAAAjB,OAAA,CACA;AACAoB,WAAA,CAAA,CAAA,EAAA,CAAA;AADA,EADA,EAIA,IAJA,CAAA;;AAOAC,QAAAC,QAAA,GAAA,YAAA;AACAjG,IAAA,MAAA,EAAA2B,IAAA,CAAA,OAAA,EAAA,GAAA;AACAgE,aAAAO,UAAA,CAAAC,WAAA,CAAAR,UAAA;AACA;AACA,MAAA,CAAA3F,EAAA,YAAA,EAAAwD,QAAA,CAAA,cAAA,CAAA,EAAA;AACAxD,KAAA,YAAA,EAAAI,QAAA,CAAA,cAAA;AACA;AAGA,EATA;AAUA","file":"main.js","sourcesContent":["","//=require scripts/config.js\r\n$(window).on(\"load\", function(){\r\n\t$(\".preloader\").fadeOut();\r\n\t$(\".contacts\").addClass(\"loaded\");\r\n\tcontactsModal();\r\n\t\r\n\r\n})\r\n\r\n/*gloabla vars*/\r\nvar main = document.querySelector(\"body\");\r\nvar getHeader = $(\".header\");\r\nvar onBottom = false;\r\nvar appears = [];\r\n\r\n\r\n$(function() {\r\n\tif ($(\".works\").length > 0) {\r\n\t\tledderAnim($(\".js-works .works__item\"),true);\r\n\t\t$(\".js-works-close\").addClass(\"active\");\r\n\t}\r\n\tif ($(\".page-main\").length > 0) {\r\n\t\t$(\"body\").addClass(\"no-overflow\");\r\n\t}\r\n\r\n\t/*functions start*/\r\n\theaderAnim();\r\n\tbottomEvent();\r\n\tworksModal();\r\n\t\r\n\r\n\t/*case sliders init*/\r\n\t$(\".slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: true,\r\n\t\tspeed: 250,\r\n\t\tfade: false,\r\n\t\tarrows: false,\r\n\t\tcssEase: \"linear\"\r\n\t});\r\n\t/*main slider init*/\r\n\t$(\".slider-main\").on('init', function(slick){\r\n\t\t$(\".page-main\").addClass(\"no-overflow\");\r\n\t\t$(slick.currentTarget).addClass(\"is-loaded\");\r\n\t\t$(\".slick-dots li\").each(function(index){\r\n\t\t\t$(this).addClass(\"slide-in-bottom\");\r\n\t\t\t$(this).attr(\"style\",\"animation-delay: \" + (0.5+index*0.15) + \"s;\")\r\n\t\t})\t\t\r\n\t})\r\n\r\n\tvar sliderMain = $(\".slider-main\").slick({\r\n\t\tdots: true,\r\n\t  infinite: true,\r\n\t  speed: 100,\r\n\t  fade: true,\r\n\t  arrows: true,\r\n\t  nextArrow:'<button class=\"slick-next\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"23\" viewBox=\"0 0 15 23\"><path fill=\"#0D71FC\" fill-rule=\"evenodd\" d=\"M14.845 11.46l.075.076L3.536 22.92 0 19.385l7.925-7.925L0 3.536 3.536 0 14.92 11.385l-.075.075z\"/></svg></button>',\r\n\t  prevArrow: '<button class=\"slick-prev\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"23\" viewBox=\"0 0 15 23\"><path fill=\"#0D71FC\" fill-rule=\"evenodd\" d=\"M.075 11.46L0 11.385 11.385 0l3.535 3.536-7.924 7.924 7.924 7.925-3.535 3.535L0 11.536l.075-.076z\"/></svg></button>',\r\n\t  cssEase: 'linear'\r\n\t});\r\n\r\n\t\r\n\r\n\tsliderMain.on('beforeChange', function(event, slick, currentSlide, nextSlide){\r\n\t  var temp = $(slick.$slides[nextSlide]).html();\r\n\t  $(\".delay\").removeClass(\"delay\");\r\n\t  $(slick.$slides[nextSlide]).html(\"\");\r\n\t  $(slick.$slides[nextSlide]).html(temp);\r\n\t});\r\n\r\n\t/*reinit content scripts*/\r\n\t$(document).on(\"reinit\", function() {\r\n\t\t$(\".slider\").slick({\r\n\t\t\tdots: true,\r\n\t\t\tinfinite: true,\r\n\t\t\tspeed: 250,\r\n\t\t\tfade: false,\r\n\t\t\tarrows: false,\r\n\t\t\tcssEase: \"linear\"\r\n\t\t});\r\n\r\n\t\tbottomEvent();\r\n\t\theaderAnim();\r\n\t\tcontactsModal();\r\n\t\tworksModal();\r\n\t\t$(\".contacts\").addClass(\"loaded\")\r\n\r\n\t\t$(\".js-appear\").each(function(index) {\r\n\t\t\tappears[index] = new Scrolling($(this));\r\n\t\t});\r\n\t});\r\n\r\n\t/*Scroll events*/\r\n\t$(window).on(\"scroll\", function() {\r\n\t\tvar vh = $(window).height();\r\n\t\tvar scrollState = false;\r\n\r\n\t\tif ($(window).scrollTop() > vh - $(\".header\").height() && !onBottom) {\r\n\t\t\t$(\".header\").attr(\"style\", \"transform: translateY(-100px);\");\r\n\t\t} else {\r\n\t\t\t$(\".header\").attr(\"style\", \"transform: translateY(0);\");\r\n\t\t}\r\n\r\n\t\tif ($(window).scrollTop() > $(\".js-top\").height()) {\r\n\t\t\t$(\".js-bottom\").addClass(\"is-clickable\");\r\n\t\t\t$(\".js-top-bg\").removeClass(\"active\");\r\n\t\t} else {\r\n\t\t\t$(\".js-bottom\").removeClass(\"is-clickable\");\r\n\t\t\t$(\".js-top-bg\").addClass(\"active\");\r\n\t\t}\r\n\r\n\t\tif ($(window).scrollTop() > 0 && scrollState == false && (!isMobile())) {\r\n\t\t\t$(\".js-top-bg\").addClass(\"blur\");\r\n\t\t\tscrollState = true;\r\n\t\t} else {\r\n\t\t\t$(\".js-top-bg\").removeClass(\"blur\");\r\n\t\t\tscrollState = false;\r\n\t\t}\r\n\t});\r\n});\r\n\r\n\tfunction Scrolling(item) {\r\n\t\tthis.item = item;\t\t\r\n\t\tthis.position;\r\n\t\tif (isMobile){\r\n\t\t\tthis.trigger = 50;\r\n\t\t\t} else {\r\n\t\t\t\tthis.trigger = 0;\r\n\t\t\t}\t\t\r\n\t\tthis.init();\r\n\t}\r\n\tScrolling.prototype = {\r\n\t\tinit: function() {\r\n\t\t\tthis.bindScroll();\r\n\t\t},\r\n\t\tclearDelay: function(){\r\n\t\t\tthis.item.attr(\"style\", \"animation-delay: 0s;\")\r\n\t\t},\r\n\t\tbindScroll: function() {\r\n\t\t\tvar obj = this;\r\n\t\t\t$(window).on(\"scroll\", function() {\r\n\t\t\t\tobj.clearDelay();\r\n\t\t\t\tobj.position = Math.round($(window).scrollTop());\r\n\t\t\t\tif (obj.position > obj.trigger) {\r\n\t\t\t\t\t$(obj.item).addClass(\"fade-out\");\r\n\t\t\t\t}\r\n\t\t\t\tif (obj.position <= obj.trigger) {\r\n\t\t\t\t\t$(obj.item).removeClass(\"fade-out\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t$(\".js-appear\").each(function(index) {\r\n\t\tappears[index] = new Scrolling($(this));\r\n\t});\r\n\r\n\tfunction contactsModal(){\r\n\t\t$(\".js-contacts-open\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\t\r\n\t\t\tif (!$(\"body\").hasClass(\"no-overflow\")){\r\n\t\t\t\t$(\"body\").addClass(\"no-overflow\");\t\t\t}\r\n\t\t\t$(\".js-contacts\").attr(\"style\", \"transform: translateX(0%);\");\t\t\t\r\n\t\t\t$(\".js-contacts\").one(\"transitionend\",function(){\r\n\t\t\t\t$(\".js-contacts-bg\").addClass(\"bg-visible\");\r\n\t\t\t\tledderAnim($(\".js-contacts-anim\"),true);\r\n\t\t\t\t$(\".js-contacts-close\").addClass(\"active\");\r\n\t\t\t});\t\t\t\r\n\t\t});\t\t\r\n\t\t$(\".js-contacts-close\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\t$(\".js-contacts-bg\").removeClass(\"bg-visible\");\r\n\t\t\tledderAnim($(\".js-contacts-anim\"),false);\r\n\t\t\t$(\".js-contacts-bg\").one(\"transitionend\", function(){\r\n\t\t\t\t\r\n\t\t\t\t$(\"body\").removeClass(\"no-overflow\");\r\n\t\t\t\t$(\".js-contacts\").attr(\"style\", \"transform: translateX(-100%);\");\r\n\t\t\t\t$(\".js-contacts-close\").removeClass(\"active\");\t\t\r\n\t\t\t});\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t}\r\n\r\n\tfunction worksModal(){\r\n\t\tif (!isMobile()){\r\n\t\t\t$(\".works__item\").hover(function(){\r\n\t\t\t\t$(\".js-works-close\").toggleClass(\"white-bg\");\r\n\t\t\t});\r\n\t\t}\r\n\t\t$(\".js-works-open\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\t\t\r\n\t\t\tif (!isMobile()){\r\n\t\t\t\t$(\".js-works\").attr(\"style\", \"transform: translateX(0%);\");\r\n\t\t\t} else {\r\n\t\t\t\t$(\".js-works\").attr(\"style\", \"left: 0;\");\r\n\t\t\t}\r\n\r\n\r\n\t\t\t\r\n\t\t\t$(\".js-works\").one(\"transitionend\",function(){\r\n\t\t\t\tvar address = location.href.split(\".\")[0].substring(0);\r\n\t\t\t\tvar backAddress = $(\".js-works-open\").attr(\"href\") + \"#\" + address;\t\r\n\t\t\t\t\r\n\t\t\t\tlocation.href = backAddress;\t\t\t\r\n\t\t\t});\r\n\t\t});\r\n\t\t$(\".js-works-close\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tif (location.hash.length == 0) {\r\n\t\t\t\tlocation.href = \"/index.html\";\r\n\t\t\t} else {\r\n\t\t\t\tlocation.href = location.hash.substring(1) + \".html\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction isMobile(){\r\n\t\tif ($(window).width()< 767){\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction ledderAnim(object,todo){\r\n\t\tif (todo == true){\r\n\t\t\tobject.each(function(index){\r\n\t\t\t\t$(this).addClass(\"slide-in-top active\");\r\n\t\t\t\t$(this).attr(\"style\",\"animation-delay: \" + (0.5+index*0.2) + \"s;\")\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (todo == false){\r\n\t\t\tobject.each(function(index){\r\n\t\t\t\t$(this).removeClass(\"slide-in-top active\");\r\n\t\t\t\t$(this).attr(\" \")\r\n\t\t\t});\r\n\t\t}\t\t\r\n\t}\r\n\r\n\r\n\tfunction bottomEvent() {\r\n\t\tif (!isMobile()) {\r\n\t\t\t$(\".js-bottom\").on(\"click\", function(e) {\r\n\t\t\t\tvar address = String(window.location).substr(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tString(window.location).lastIndexOf(\"/\")\r\n\t\t\t\t);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$(this).addClass(\"full\");\r\n\t\t\t\t$(\".case-single__bottom-title\").addClass(\"slide-out-bottom\");\r\n\t\t\t\t$(\".case-single__bottom-link\").addClass(\"slide-out-bottom\");\r\n\t\t\t\t$(\".case-single__bottom-bg\").removeClass(\"blur\");\r\n\t\t\t\t$(\".case-single__section\").remove();\r\n\t\t\t\tonBottom = true;\t\t\t\r\n\t\t\t\t$(\".header__link-cont\").removeClass(\"after-anim\");\r\n\t\t\t\t$(\".header__link--works\").find(\"i\").removeClass(\"after-anim\");\r\n\t\t\t\t$(\".header__link--main\").find(\".header__link-cont\").addClass(\"width-rise-18\");\r\n\t\t\t\t$(\".header__link--works\").find(\"i\").addClass(\"width-rise-8\");\r\n\t\t\t\t$(\".header__link--menu\").find(\".header__link-cont\").addClass(\"width-rise-26\");\r\n\t\t\t\t$(\"body\").attr(\"style\",\"height: 200vh;\");\r\n\t\t\t\t$(this).one(\"transitionend\", function() {\r\n\t\t\t\t\t$(\"html,body\").animate({ scrollTop: 0 }, 0);\r\n\t\t\t\t\thistory.pushState(null, null, address + $(\".js-bottom\").attr(\"href\"));\r\n\t\t\t\t\tchangePage();\r\n\t\t\t\t\tonBottom = false;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction headerAnim() {\r\n\t\t$(\".header__link-cont\").one(\r\n\t\t\t\"animationend  animationend  webkitAnimationEnd  oanimationend MSAnimationEnd\",\r\n\t\t\tfunction() {\r\n\t\t\t\t$(this).removeClass(\"width-rise-18 width-rise-26\");\r\n\t\t\t\t$(this).addClass(\"after-anim\");\r\n\t\t\t\t$(\".js-appear\").addClass(\"slide-in-top\");\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t$(\".header__link-cont\").find(\"i\").one(\r\n\t\t\t\"animationend  animationend  webkitAnimationEnd  oanimationend MSAnimationEnd\",\r\n\t\t\tfunction() {\r\n\t\t\t\t$(this).removeClass(\"width-rise-8\");\r\n\t\t\t\t$(this).parents(\".header__link-cont\").addClass(\"after-anim\");\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction loadPage(url) {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"GET\"\r\n\t\t}).then(function(response) {\r\n\t\t\treturn response.text();\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction changePage() {\r\n\t\t// Заметьте, что URL уже изменился\r\n\t\tvar url = window.location.href;\r\n\r\n\t\tloadPage(url).then(function(responseText) {\r\n\t\t\tvar wrapper = document.createElement(\"div\");\r\n\t\t\twrapper.innerHTML = responseText;\r\n\r\n\t\t\tvar oldContent = document.querySelector(\".page\");\r\n\t\t\tvar newContent = wrapper.querySelector(\".page\");\r\n\r\n\t\t\tmain.appendChild(newContent);\r\n\t\t\t$(document).trigger(\"reinit\");\r\n\t\t\tanimate(oldContent, newContent);\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tfunction animate(oldContent, newContent) {\r\n\t\toldContent.style.position = \"absolute\";\r\n\t\tvar fadeOut = oldContent.animate(\r\n\t\t\t{\r\n\t\t\t\topacity: [1, 0]\r\n\t\t\t},\r\n\t\t\t1000\r\n\t\t);\r\n\r\n\t\tvar fadeIn = newContent.animate(\r\n\t\t\t{\r\n\t\t\t\topacity: [0, 1]\r\n\t\t\t},\r\n\t\t\t1000\r\n\t\t);\r\n\r\n\t\tfadeIn.onfinish = function() {\r\n\t\t\t$(\"body\").attr(\"style\",\" \");\r\n\t\t\toldContent.parentNode.removeChild(oldContent);\r\n\t\t\t/*fix for anrdoid chrome*/\r\n\t\t\tif (!$(\".js-appear\").hasClass(\"slide-in-top\")){\r\n\t\t\t\t$(\".js-appear\").addClass(\"slide-in-top\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n","$(window).on(\"load\", function(){\r\n\t$(\".preloader\").fadeOut();\r\n\t$(\".contacts\").addClass(\"loaded\");\r\n\tcontactsModal();\r\n\t\r\n\r\n})\r\n\r\n/*gloabla vars*/\r\nvar main = document.querySelector(\"body\");\r\nvar getHeader = $(\".header\");\r\nvar onBottom = false;\r\nvar appears = [];\r\n\r\n\r\n$(function() {\r\n\tif ($(\".works\").length > 0) {\r\n\t\tledderAnim($(\".js-works .works__item\"),true);\r\n\t\t$(\".js-works-close\").addClass(\"active\");\r\n\t}\r\n\tif ($(\".page-main\").length > 0) {\r\n\t\t$(\"body\").addClass(\"no-overflow\");\r\n\t}\r\n\r\n\t/*functions start*/\r\n\theaderAnim();\r\n\tbottomEvent();\r\n\tworksModal();\r\n\t\r\n\r\n\t/*case sliders init*/\r\n\t$(\".slider\").slick({\r\n\t\tdots: true,\r\n\t\tinfinite: true,\r\n\t\tspeed: 250,\r\n\t\tfade: false,\r\n\t\tarrows: false,\r\n\t\tcssEase: \"linear\"\r\n\t});\r\n\t/*main slider init*/\r\n\t$(\".slider-main\").on('init', function(slick){\r\n\t\t$(\".page-main\").addClass(\"no-overflow\");\r\n\t\t$(slick.currentTarget).addClass(\"is-loaded\");\r\n\t\t$(\".slick-dots li\").each(function(index){\r\n\t\t\t$(this).addClass(\"slide-in-bottom\");\r\n\t\t\t$(this).attr(\"style\",\"animation-delay: \" + (0.5+index*0.15) + \"s;\")\r\n\t\t})\t\t\r\n\t})\r\n\r\n\tvar sliderMain = $(\".slider-main\").slick({\r\n\t\tdots: true,\r\n\t  infinite: true,\r\n\t  speed: 100,\r\n\t  fade: true,\r\n\t  arrows: true,\r\n\t  nextArrow:'<button class=\"slick-next\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"23\" viewBox=\"0 0 15 23\"><path fill=\"#0D71FC\" fill-rule=\"evenodd\" d=\"M14.845 11.46l.075.076L3.536 22.92 0 19.385l7.925-7.925L0 3.536 3.536 0 14.92 11.385l-.075.075z\"/></svg></button>',\r\n\t  prevArrow: '<button class=\"slick-prev\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"23\" viewBox=\"0 0 15 23\"><path fill=\"#0D71FC\" fill-rule=\"evenodd\" d=\"M.075 11.46L0 11.385 11.385 0l3.535 3.536-7.924 7.924 7.924 7.925-3.535 3.535L0 11.536l.075-.076z\"/></svg></button>',\r\n\t  cssEase: 'linear'\r\n\t});\r\n\r\n\t\r\n\r\n\tsliderMain.on('beforeChange', function(event, slick, currentSlide, nextSlide){\r\n\t  var temp = $(slick.$slides[nextSlide]).html();\r\n\t  $(\".delay\").removeClass(\"delay\");\r\n\t  $(slick.$slides[nextSlide]).html(\"\");\r\n\t  $(slick.$slides[nextSlide]).html(temp);\r\n\t});\r\n\r\n\t/*reinit content scripts*/\r\n\t$(document).on(\"reinit\", function() {\r\n\t\t$(\".slider\").slick({\r\n\t\t\tdots: true,\r\n\t\t\tinfinite: true,\r\n\t\t\tspeed: 250,\r\n\t\t\tfade: false,\r\n\t\t\tarrows: false,\r\n\t\t\tcssEase: \"linear\"\r\n\t\t});\r\n\r\n\t\tbottomEvent();\r\n\t\theaderAnim();\r\n\t\tcontactsModal();\r\n\t\tworksModal();\r\n\t\t$(\".contacts\").addClass(\"loaded\")\r\n\r\n\t\t$(\".js-appear\").each(function(index) {\r\n\t\t\tappears[index] = new Scrolling($(this));\r\n\t\t});\r\n\t});\r\n\r\n\t/*Scroll events*/\r\n\t$(window).on(\"scroll\", function() {\r\n\t\tvar vh = $(window).height();\r\n\t\tvar scrollState = false;\r\n\r\n\t\tif ($(window).scrollTop() > vh - $(\".header\").height() && !onBottom) {\r\n\t\t\t$(\".header\").attr(\"style\", \"transform: translateY(-100px);\");\r\n\t\t} else {\r\n\t\t\t$(\".header\").attr(\"style\", \"transform: translateY(0);\");\r\n\t\t}\r\n\r\n\t\tif ($(window).scrollTop() > $(\".js-top\").height()) {\r\n\t\t\t$(\".js-bottom\").addClass(\"is-clickable\");\r\n\t\t\t$(\".js-top-bg\").removeClass(\"active\");\r\n\t\t} else {\r\n\t\t\t$(\".js-bottom\").removeClass(\"is-clickable\");\r\n\t\t\t$(\".js-top-bg\").addClass(\"active\");\r\n\t\t}\r\n\r\n\t\tif ($(window).scrollTop() > 0 && scrollState == false && (!isMobile())) {\r\n\t\t\t$(\".js-top-bg\").addClass(\"blur\");\r\n\t\t\tscrollState = true;\r\n\t\t} else {\r\n\t\t\t$(\".js-top-bg\").removeClass(\"blur\");\r\n\t\t\tscrollState = false;\r\n\t\t}\r\n\t});\r\n});\r\n\r\n\tfunction Scrolling(item) {\r\n\t\tthis.item = item;\t\t\r\n\t\tthis.position;\r\n\t\tif (isMobile){\r\n\t\t\tthis.trigger = 50;\r\n\t\t\t} else {\r\n\t\t\t\tthis.trigger = 0;\r\n\t\t\t}\t\t\r\n\t\tthis.init();\r\n\t}\r\n\tScrolling.prototype = {\r\n\t\tinit: function() {\r\n\t\t\tthis.bindScroll();\r\n\t\t},\r\n\t\tclearDelay: function(){\r\n\t\t\tthis.item.attr(\"style\", \"animation-delay: 0s;\")\r\n\t\t},\r\n\t\tbindScroll: function() {\r\n\t\t\tvar obj = this;\r\n\t\t\t$(window).on(\"scroll\", function() {\r\n\t\t\t\tobj.clearDelay();\r\n\t\t\t\tobj.position = Math.round($(window).scrollTop());\r\n\t\t\t\tif (obj.position > obj.trigger) {\r\n\t\t\t\t\t$(obj.item).addClass(\"fade-out\");\r\n\t\t\t\t}\r\n\t\t\t\tif (obj.position <= obj.trigger) {\r\n\t\t\t\t\t$(obj.item).removeClass(\"fade-out\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t$(\".js-appear\").each(function(index) {\r\n\t\tappears[index] = new Scrolling($(this));\r\n\t});\r\n\r\n\tfunction contactsModal(){\r\n\t\t$(\".js-contacts-open\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\t\r\n\t\t\tif (!$(\"body\").hasClass(\"no-overflow\")){\r\n\t\t\t\t$(\"body\").addClass(\"no-overflow\");\t\t\t}\r\n\t\t\t$(\".js-contacts\").attr(\"style\", \"transform: translateX(0%);\");\t\t\t\r\n\t\t\t$(\".js-contacts\").one(\"transitionend\",function(){\r\n\t\t\t\t$(\".js-contacts-bg\").addClass(\"bg-visible\");\r\n\t\t\t\tledderAnim($(\".js-contacts-anim\"),true);\r\n\t\t\t\t$(\".js-contacts-close\").addClass(\"active\");\r\n\t\t\t});\t\t\t\r\n\t\t});\t\t\r\n\t\t$(\".js-contacts-close\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\t$(\".js-contacts-bg\").removeClass(\"bg-visible\");\r\n\t\t\tledderAnim($(\".js-contacts-anim\"),false);\r\n\t\t\t$(\".js-contacts-bg\").one(\"transitionend\", function(){\r\n\t\t\t\t\r\n\t\t\t\t$(\"body\").removeClass(\"no-overflow\");\r\n\t\t\t\t$(\".js-contacts\").attr(\"style\", \"transform: translateX(-100%);\");\r\n\t\t\t\t$(\".js-contacts-close\").removeClass(\"active\");\t\t\r\n\t\t\t});\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t}\r\n\r\n\tfunction worksModal(){\r\n\t\tif (!isMobile()){\r\n\t\t\t$(\".works__item\").hover(function(){\r\n\t\t\t\t$(\".js-works-close\").toggleClass(\"white-bg\");\r\n\t\t\t});\r\n\t\t}\r\n\t\t$(\".js-works-open\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\t\t\r\n\t\t\tif (!isMobile()){\r\n\t\t\t\t$(\".js-works\").attr(\"style\", \"transform: translateX(0%);\");\r\n\t\t\t} else {\r\n\t\t\t\t$(\".js-works\").attr(\"style\", \"left: 0;\");\r\n\t\t\t}\r\n\r\n\r\n\t\t\t\r\n\t\t\t$(\".js-works\").one(\"transitionend\",function(){\r\n\t\t\t\tvar address = location.href.split(\".\")[0].substring(0);\r\n\t\t\t\tvar backAddress = $(\".js-works-open\").attr(\"href\") + \"#\" + address;\t\r\n\t\t\t\t\r\n\t\t\t\tlocation.href = backAddress;\t\t\t\r\n\t\t\t});\r\n\t\t});\r\n\t\t$(\".js-works-close\").on(\"click\", function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tif (location.hash.length == 0) {\r\n\t\t\t\tlocation.href = \"/index.html\";\r\n\t\t\t} else {\r\n\t\t\t\tlocation.href = location.hash.substring(1) + \".html\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction isMobile(){\r\n\t\tif ($(window).width()< 767){\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction ledderAnim(object,todo){\r\n\t\tif (todo == true){\r\n\t\t\tobject.each(function(index){\r\n\t\t\t\t$(this).addClass(\"slide-in-top active\");\r\n\t\t\t\t$(this).attr(\"style\",\"animation-delay: \" + (0.5+index*0.2) + \"s;\")\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (todo == false){\r\n\t\t\tobject.each(function(index){\r\n\t\t\t\t$(this).removeClass(\"slide-in-top active\");\r\n\t\t\t\t$(this).attr(\" \")\r\n\t\t\t});\r\n\t\t}\t\t\r\n\t}\r\n\r\n\r\n\tfunction bottomEvent() {\r\n\t\tif (!isMobile()) {\r\n\t\t\t$(\".js-bottom\").on(\"click\", function(e) {\r\n\t\t\t\tvar address = String(window.location).substr(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tString(window.location).lastIndexOf(\"/\")\r\n\t\t\t\t);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$(this).addClass(\"full\");\r\n\t\t\t\t$(\".case-single__bottom-title\").addClass(\"slide-out-bottom\");\r\n\t\t\t\t$(\".case-single__bottom-link\").addClass(\"slide-out-bottom\");\r\n\t\t\t\t$(\".case-single__bottom-bg\").removeClass(\"blur\");\r\n\t\t\t\t$(\".case-single__section\").remove();\r\n\t\t\t\tonBottom = true;\t\t\t\r\n\t\t\t\t$(\".header__link-cont\").removeClass(\"after-anim\");\r\n\t\t\t\t$(\".header__link--works\").find(\"i\").removeClass(\"after-anim\");\r\n\t\t\t\t$(\".header__link--main\").find(\".header__link-cont\").addClass(\"width-rise-18\");\r\n\t\t\t\t$(\".header__link--works\").find(\"i\").addClass(\"width-rise-8\");\r\n\t\t\t\t$(\".header__link--menu\").find(\".header__link-cont\").addClass(\"width-rise-26\");\r\n\t\t\t\t$(\"body\").attr(\"style\",\"height: 200vh;\");\r\n\t\t\t\t$(this).one(\"transitionend\", function() {\r\n\t\t\t\t\t$(\"html,body\").animate({ scrollTop: 0 }, 0);\r\n\t\t\t\t\thistory.pushState(null, null, address + $(\".js-bottom\").attr(\"href\"));\r\n\t\t\t\t\tchangePage();\r\n\t\t\t\t\tonBottom = false;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction headerAnim() {\r\n\t\t$(\".header__link-cont\").one(\r\n\t\t\t\"animationend  animationend  webkitAnimationEnd  oanimationend MSAnimationEnd\",\r\n\t\t\tfunction() {\r\n\t\t\t\t$(this).removeClass(\"width-rise-18 width-rise-26\");\r\n\t\t\t\t$(this).addClass(\"after-anim\");\r\n\t\t\t\t$(\".js-appear\").addClass(\"slide-in-top\");\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t$(\".header__link-cont\").find(\"i\").one(\r\n\t\t\t\"animationend  animationend  webkitAnimationEnd  oanimationend MSAnimationEnd\",\r\n\t\t\tfunction() {\r\n\t\t\t\t$(this).removeClass(\"width-rise-8\");\r\n\t\t\t\t$(this).parents(\".header__link-cont\").addClass(\"after-anim\");\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction loadPage(url) {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: \"GET\"\r\n\t\t}).then(function(response) {\r\n\t\t\treturn response.text();\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\r\n\tfunction changePage() {\r\n\t\t// Заметьте, что URL уже изменился\r\n\t\tvar url = window.location.href;\r\n\r\n\t\tloadPage(url).then(function(responseText) {\r\n\t\t\tvar wrapper = document.createElement(\"div\");\r\n\t\t\twrapper.innerHTML = responseText;\r\n\r\n\t\t\tvar oldContent = document.querySelector(\".page\");\r\n\t\t\tvar newContent = wrapper.querySelector(\".page\");\r\n\r\n\t\t\tmain.appendChild(newContent);\r\n\t\t\t$(document).trigger(\"reinit\");\r\n\t\t\tanimate(oldContent, newContent);\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tfunction animate(oldContent, newContent) {\r\n\t\toldContent.style.position = \"absolute\";\r\n\t\tvar fadeOut = oldContent.animate(\r\n\t\t\t{\r\n\t\t\t\topacity: [1, 0]\r\n\t\t\t},\r\n\t\t\t1000\r\n\t\t);\r\n\r\n\t\tvar fadeIn = newContent.animate(\r\n\t\t\t{\r\n\t\t\t\topacity: [0, 1]\r\n\t\t\t},\r\n\t\t\t1000\r\n\t\t);\r\n\r\n\t\tfadeIn.onfinish = function() {\r\n\t\t\t$(\"body\").attr(\"style\",\" \");\r\n\t\t\toldContent.parentNode.removeChild(oldContent);\r\n\t\t\t/*fix for anrdoid chrome*/\r\n\t\t\tif (!$(\".js-appear\").hasClass(\"slide-in-top\")){\r\n\t\t\t\t$(\".js-appear\").addClass(\"slide-in-top\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n"]}