"use strict";$(window).on("load",function(){$(".preloader").fadeOut()}),$(function(){0<$(".works").length&&(i($(".js-works .works__item"),!0),$(".js-works-close").addClass("active")),0<$(".page-main").length&&$("body").addClass("no-overflow");var a=document.querySelector("body"),n=($(".header"),!1),e=[];function s(t){this.item=t,this.position,this.trigger=50,this.init()}function o(){return $(window).width()<767}function i(t,e){1==e&&t.each(function(t){$(this).addClass("slide-in-top active"),$(this).attr("style","animation-delay: "+(.5+.2*t)+"s;")}),0==e&&t.each(function(t){$(this).removeClass("slide-in-top active"),$(this).attr(" ")})}function t(){o()||$(".js-bottom").on("click",function(t){var e=String(window.location).substr(0,String(window.location).lastIndexOf("/"));t.preventDefault(),$(this).addClass("full"),$(".case-single__bottom-title").addClass("slide-out-bottom"),$(".case-single__bottom-link").addClass("slide-out-bottom"),$(".case-single__bottom-bg").removeClass("blur"),$(".case-single__section").remove(),n=!0,$(".header__link-cont").removeClass("after-anim"),$(".header__link--works").find("i").removeClass("after-anim"),$(".header__link--main").find(".header__link-cont").addClass("width-rise-18"),$(".header__link--works").find("i").addClass("width-rise-8"),$(".header__link--menu").find(".header__link-cont").addClass("width-rise-26"),$("body").attr("style","height: 200vh;"),$(this).one("transitionend",function(){var t;$("html,body").animate({scrollTop:0},0),history.pushState(null,null,e+$(".js-bottom").attr("href")),(t=window.location.href,fetch(t,{method:"GET"}).then(function(t){return t.text()})).then(function(t){var e=document.createElement("div");e.innerHTML=t;var n,s,o=document.querySelector(".page"),i=e.querySelector(".page");a.appendChild(i),$(document).trigger("reinit"),s=i,(n=o).style.position="absolute",n.animate({opacity:[1,0]},1e3),s.animate({opacity:[0,1]},1e3).onfinish=function(){$("body").attr("style"," "),n.parentNode.removeChild(n),$(".js-appear").hasClass("slide-in-top")||$(".js-appear").addClass("slide-in-top")}}),n=!1})})}function l(){$(".header__link-cont").one("animationend  animationend  webkitAnimationEnd  oanimationend MSAnimationEnd",function(){$(this).removeClass("width-rise-18 width-rise-26"),$(this).addClass("after-anim"),$(".js-appear").addClass("slide-in-top")}),$(".header__link-cont").find("i").one("animationend  animationend  webkitAnimationEnd  oanimationend MSAnimationEnd",function(){$(this).removeClass("width-rise-8"),$(this).parents(".header__link-cont").addClass("after-anim")})}l(),t(),$(".js-contacts-open").on("click",function(t){t.preventDefault(),$("body").hasClass("no-overflow")||$("body").addClass("no-overflow"),o()?$(".js-contacts").attr("style","left: 0"):$(".js-contacts").attr("style","clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);"),$(".js-contacts").one("transitionend",function(){i($(".js-contacts-anim"),!0),$(".js-contacts-close").attr("style","transform: translateX(0%);")})}),$(".js-contacts-close").on("click",function(t){t.preventDefault(),i($(".js-contacts-anim"),!1),$("body").removeClass("no-overflow"),o()?$(".js-contacts").attr("style","left: -100%"):($(".js-contacts").attr("style","clip-path: polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%);"),$(".js-contacts-close").attr("style","transform: translateX(700%);"))}),$(".js-works-open").on("click",function(t){t.preventDefault(),o()?$(".js-works").attr("style","left: 0;"):$(".js-works").attr("style","transform: translateX(0%);"),$(".js-works").one("transitionend",function(){var t=location.pathname.split(".")[0].substring(1),e=$(".js-works-open").attr("href")+"#"+t;location.href=e})}),$(".js-works-close").on("click",function(t){t.preventDefault(),0==location.hash.length?location.href="/index.html":location.href=location.hash.substring(1)+".html"}),$(".slider").slick({dots:!0,infinite:!0,speed:500,fade:!1,arrows:!1,cssEase:"linear"}),$(".slider-main").on("init",function(t){$(".page-main").addClass("no-overflow"),$(t.currentTarget).addClass("is-loaded"),$(".slick-dots li").each(function(t){$(this).addClass("slide-in-bottom"),$(this).attr("style","animation-delay: "+(.5+.15*t)+"s;")})}),$(".slider-main").slick({dots:!0,infinite:!0,speed:100,fade:!0,arrows:!0,nextArrow:'<button class="slick-next"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="23" viewBox="0 0 15 23"><path fill="#0D71FC" fill-rule="evenodd" d="M14.845 11.46l.075.076L3.536 22.92 0 19.385l7.925-7.925L0 3.536 3.536 0 14.92 11.385l-.075.075z"/></svg></button>',prevArrow:'<button class="slick-prev"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="23" viewBox="0 0 15 23"><path fill="#0D71FC" fill-rule="evenodd" d="M.075 11.46L0 11.385 11.385 0l3.535 3.536-7.924 7.924 7.924 7.925-3.535 3.535L0 11.536l.075-.076z"/></svg></button>',cssEase:"linear"}).on("beforeChange",function(t,e,n,s){var o=$(e.$slides[s]).html();$(".delay").removeClass("delay"),$(e.$slides[s]).html(""),$(e.$slides[s]).html(o)}),$(document).on("reinit",function(){$(".slider").slick({dots:!0,infinite:!0,speed:500,fade:!1,arrows:!1,cssEase:"linear"}),t(),l(),$(".js-appear").each(function(t){e[t]=new s($(this))})}),$(window).on("scroll",function(){var t=$(window).height(),e=!1;$(window).scrollTop()>t-$(".header").height()&&!n?$(".header").attr("style","transform: translateY(-100px);"):$(".header").attr("style","transform: translateY(0);"),$(window).scrollTop()>$(".js-top").height()?($(".js-bottom").addClass("is-clickable"),$(".js-top-bg").removeClass("active")):($(".js-bottom").removeClass("is-clickable"),$(".js-top-bg").addClass("active")),0<$(window).scrollTop()&&0==e&&!o()?($(".js-top-bg").addClass("blur"),e=!0):($(".js-top-bg").removeClass("blur"),e=!1)}),s.prototype={init:function(){this.bindScroll()},clearDelay:function(){this.item.attr("style","animation-delay: 0s;")},bindScroll:function(){var t=this;$(window).on("scroll",function(){t.clearDelay(),t.position=Math.round($(window).scrollTop()),t.position>t.trigger&&$(t.item).addClass("fade-out"),t.position<=t.trigger&&$(t.item).removeClass("fade-out")})}},$(".js-appear").each(function(t){e[t]=new s($(this))})});